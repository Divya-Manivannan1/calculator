(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();const p=document.querySelector(".calculator"),b=document.querySelector(".calculator__buttons"),s=document.querySelector(".calculator__display--output"),d=document.querySelector(".calculator__display--memory"),a=document.querySelector(".calculator__display--input"),E=document.querySelectorAll(".calculator__button--number"),g=document.querySelectorAll(".calculator__button--operator"),_=document.querySelectorAll(".calculator__button--bracket"),v=document.querySelector(".calculator__button--delete"),C=document.querySelector(".calculator__button--clear-operation"),k=document.querySelector(".calculator__button--view-memory"),B=document.querySelector(".calculator__button--equal"),q=document.querySelector(".calculator__button--clear-memory"),f=document.querySelector(".calculator__button--back");if(!s||!a||!E||!g||!v||!C||!B||!d||!q||!k||!p||!b||!f)throw new Error("Issue with the selector");let n="";const x=[];let y=!1,i=!0,u=0;const O=t=>{const e=t.currentTarget;if(n[n.length-1]==")"&&(n+="*"),e.value=="."){if(y==!0)return;i&&(n+="0"),y=!0}i=!1,n+=e.value,a.textContent=n,s.textContent=`${L(n)}`,e.value=="."&&(s.textContent+="0")},S=t=>{const e=t.currentTarget;i||(n[n.length-1]=="."&&(n+="0"),i=!0,n+=e.value,y=!1,a.textContent=n)},w=()=>{i||(n+="*"),n+="(",i=!0,u++,a.textContent=n},T=()=>{!i&&u>0&&(n+=")",u--,a.textContent=n)},M=(t,e)=>`${+t+ +e}`,I=(t,e)=>`${+t*+e}`,$=(t,e)=>`${+t/+e}`,D=(t,e)=>`${Math.pow(+t,+e)}`,P=t=>+t%2==0,L=t=>{let e=t.replace(/-/g,"+-");for(e=e.concat(")".repeat(u));e.includes("π");){const r=e.indexOf("π");let l=e.slice(0,r),o=e.slice(r+1);/\d/.test(l[l.length-1])&&(l+="*"),/\d/.test(o[0])&&(o="*"+o),e=l+`${Math.PI}`+o}for(;e.includes("(");){let r=e.slice(0,e.lastIndexOf("(")),l=e.slice(e.lastIndexOf("(")+1),o=l.slice(l.indexOf(")")+1);l=l.slice(0,l.indexOf(")")),l=h(l),e=r.concat(l,o)}return console.log(e),h(e)},h=t=>{let e=t.split("+");return e=e.map(r=>A(r)),e.reduce(M)},A=t=>{let e=t.split("*");return e=e.map(r=>N(r)),e.reduce(I)},N=t=>{let e=t.split("/");return e=e.map(r=>H(r)),e.reduce($)},H=t=>{const e=t.split("^");let r=e.reduce(D);return e[0][0]=="-"&&(e.shift(),e.some(P)&&(r="-"+r)),r},j=()=>{switch(n[n.length-1]){case"(":u--;break;case")":u++;break;case"*":case"/":case"+":case"-":case"^":i=!1;break;case".":y=!1}n=n.slice(0,n.length-1),a.textContent=n,s.textContent=`${L(n)}`,s.textContent[s.textContent.length-1]=="."&&(s.textContent+="0")},F=()=>{n="",a.textContent=n,s.textContent="",i=!0,u=0},K=()=>{if(n.length>0){let t="";i?t=n.slice(0,n.length-1):t=n,t=t.concat(")".repeat(u),"<br>= ",s.textContent),x.push(t),d.innerHTML=x.map(e=>`${e}</br>`).join(""),a.textContent=n=s.textContent,s.textContent="",u=0,i=!1}},V=()=>{x.length=0,d.innerHTML=""},z=()=>{p.style.display="flex",p.style.flexDirection="column",a.style.display="none",s.style.display="none",b.style.display="none",d.style.display="block",f.style.display="block"},G=()=>{p.style.display="grid",a.style.display="block",s.style.display="block",b.style.display="grid",d.style.display="none",f.style.display="none"};s.textContent="";a.textContent=n;E.forEach(t=>t.addEventListener("click",O));g.forEach(t=>t.addEventListener("click",S));_[0].addEventListener("click",w);_[1].addEventListener("click",T);v.addEventListener("click",j);C.addEventListener("click",F);B.addEventListener("click",K);q.addEventListener("click",V);k.addEventListener("click",z);f.addEventListener("click",G);
