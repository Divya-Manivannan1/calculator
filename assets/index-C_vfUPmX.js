(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const a=document.querySelector(".calculator"),h=document.querySelector(".calculator__buttons"),i=document.querySelector(".calculator__display--output"),y=document.querySelector(".calculator__display--memory"),c=document.querySelector(".calculator__display--input"),b=document.querySelectorAll(".calculator__button--number"),g=document.querySelectorAll(".calculator__button--operator"),_=document.querySelectorAll(".calculator__button--bracket"),v=document.querySelector(".calculator__button--delete"),B=document.querySelector(".calculator__button--clear-operation"),q=document.querySelector(".calculator__button--view-memory"),L=document.querySelector(".calculator__button--equal"),k=document.querySelector(".calculator__button--clear-memory"),d=document.querySelector(".calculator__button--back");if(!i||!c||!b||!g||!v||!B||!L||!y||!k||!q||!a||!h||!d)throw new Error("Issue with the selector");let n="";const f=[];let x=!1,u=!0,p=0;const C=t=>{const e=t.currentTarget;if(n[n.length-1]==")"&&(n+="*"),e.value=="."){if(x==!0)return;u&&(n+="0"),x=!0}u=!1,n+=e.value,c.textContent=n,i.textContent=`${P(n)}`},O=t=>{const e=t.currentTarget;u||(n[n.length-1]=="."&&(n+="0"),u=!0,n+=e.value,x=!1,c.textContent=n)},S=()=>{u||(n+="*"),n+="(",u=!0,p++,c.textContent=n},w=()=>{!u&&p>0&&(n+=")",p--,c.textContent=n)},M=(t,e)=>`${+t+ +e}`,T=(t,e)=>`${+t*+e}`,I=(t,e)=>`${+t/+e}`,$=(t,e)=>`${Math.pow(+t,+e)}`,D=t=>+t%2==0,P=t=>{let e=t.replace(/-/g,"+-");for(e=e.concat(")".repeat(p));e.includes("π");){const r=e.indexOf("π");let l=e.slice(0,r),o=e.slice(r+1);/\d/.test(l[l.length-1])&&(l+="*"),/\d/.test(o[0])&&(o="*"+o),e=l+`${Math.PI}`+o}for(;e.includes("(");){let r=e.slice(0,e.lastIndexOf("(")),l=e.slice(e.lastIndexOf("(")+1),o=l.slice(l.indexOf(")")+1);l=l.slice(0,l.indexOf(")")),l=E(l),e=r.concat(l,o)}return console.log(e),E(e)},E=t=>{let e=t.split("+");return e=e.map(r=>A(r)),e.reduce(M)},A=t=>{let e=t.split("*");return e=e.map(r=>N(r)),e.reduce(T)},N=t=>{let e=t.split("/");return e=e.map(r=>H(r)),e.reduce(I)},H=t=>{const e=t.split("^");let r=e.reduce($);return e[0][0]=="-"&&(e.shift(),e.some(D)&&(r="-"+r)),r},j=()=>{n=n.slice(0,n.length-1),c.textContent=n},F=()=>{n="",c.textContent=n,i.textContent=""},K=()=>{if(n.length>0){let t="";u?t=n.slice(0,n.length-1):t=n,t=t.concat(")".repeat(p),"<br>=",i.textContent),f.push(t),y.innerHTML=f.map(e=>`<p>${e}</p>`).join(""),c.textContent=i.textContent,i.textContent="",n=""}},V=()=>{f.length=0,y.innerHTML=""},z=()=>{a.style.display="flex",a.style.flexDirection="column",c.style.display="none",i.style.display="none",h.style.display="none",y.style.display="block",d.style.display="block",d.style.height="4rem"},G=()=>{a.style.display="grid",a.style.flexDirection="column",c.style.display="block",i.style.display="block",h.style.display="grid",y.style.display="none",d.style.display="none"};i.textContent="";c.textContent=n;b.forEach(t=>t.addEventListener("click",C));g.forEach(t=>t.addEventListener("click",O));_[0].addEventListener("click",S);_[1].addEventListener("click",w);v.addEventListener("click",j);B.addEventListener("click",F);L.addEventListener("click",K);k.addEventListener("click",V);q.addEventListener("click",z);d.addEventListener("click",G);
